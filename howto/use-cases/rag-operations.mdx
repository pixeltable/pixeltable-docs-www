---
title: "RAG Operations in Pixeltable"
sidebarTitle: "RAG Operations"
icon: "notebook"
---
<a href="https://kaggle.com/kernels/welcome?src=https://github.com/pixeltable/pixeltable/blob/release/docs/release/howto/use-cases/rag-operations.ipynb" id="openKaggle" target="_blank" rel="noopener noreferrer"><img src="https://kaggle.com/static/images/open-in-kaggle.svg" alt="Open in Kaggle" style={{ display: 'inline', margin: '0px' }} noZoom /></a>&nbsp;&nbsp;<a href="https://colab.research.google.com/github/pixeltable/pixeltable/blob/release/docs/release/howto/use-cases/rag-operations.ipynb" id="openColab" target="_blank" rel="noopener noreferrer"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open in Colab" style={{ display: 'inline', margin: '0px' }} noZoom /></a>&nbsp;&nbsp;<a href="https://raw.githubusercontent.com/pixeltable/pixeltable/refs/tags/release/docs/release/howto/use-cases/rag-operations.ipynb" id="downloadNotebook" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/%E2%AC%87-Download%20Notebook-blue" alt="Download Notebook" style={{ display: 'inline', margin: '0px' }} noZoom /></a>

<Tip>This documentation page is also available as an interactive notebook. You can launch the notebook in
Kaggle or Colab, or download it for use with an IDE or local Jupyter installation, by clicking one of the
above links.</Tip>




export const quartoRawHtml =
[`<style type="text/css">
#T_f745c_row0_col0 {
  white-space: pre-wrap;
  text-align: left;
  font-weight: bold;
}
</style>
`,`
<table id="T_f745c" data-quarto-postprocess="true">
<tbody>
<tr>
<td id="T_f745c_row0_col0" class="data row0 col0">table
'rag_ops_demo.docs'</td>
</tr>
</tbody>
</table>
`,`
<style type="text/css">
#T_873ce th {
  text-align: left;
}
#T_873ce_row0_col0, #T_873ce_row0_col1, #T_873ce_row0_col2 {
  white-space: pre-wrap;
  text-align: left;
}
</style>
`,`
<table id="T_873ce" data-quarto-postprocess="true">
<thead>
<tr>
<th id="T_873ce_level0_col0" class="col_heading level0 col0"
data-quarto-table-cell-role="th">Column Name</th>
<th id="T_873ce_level0_col1" class="col_heading level0 col1"
data-quarto-table-cell-role="th">Type</th>
<th id="T_873ce_level0_col2" class="col_heading level0 col2"
data-quarto-table-cell-role="th">Computed With</th>
</tr>
</thead>
<tbody>
<tr>
<td id="T_873ce_row0_col0" class="data row0 col0">source_doc</td>
<td id="T_873ce_row0_col1" class="data row0 col1">Document</td>
<td id="T_873ce_row0_col2" class="data row0 col2"></td>
</tr>
</tbody>
</table>
`,`<style type="text/css">
#T_259a5_row0_col0 {
  white-space: pre-wrap;
  text-align: left;
  font-weight: bold;
}
</style>
`,`
<table id="T_259a5" data-quarto-postprocess="true">
<tbody>
<tr>
<td id="T_259a5_row0_col0" class="data row0 col0">view
'rag_ops_demo.sentences' (of 'rag_ops_demo.docs')</td>
</tr>
</tbody>
</table>
`,`
<style type="text/css">
#T_56a77 th {
  text-align: left;
}
#T_56a77_row0_col0, #T_56a77_row0_col1, #T_56a77_row0_col2, #T_56a77_row1_col0, #T_56a77_row1_col1, #T_56a77_row1_col2, #T_56a77_row2_col0, #T_56a77_row2_col1, #T_56a77_row2_col2, #T_56a77_row3_col0, #T_56a77_row3_col1, #T_56a77_row3_col2, #T_56a77_row4_col0, #T_56a77_row4_col1, #T_56a77_row4_col2, #T_56a77_row5_col0, #T_56a77_row5_col1, #T_56a77_row5_col2 {
  white-space: pre-wrap;
  text-align: left;
}
</style>
`,`
<table id="T_56a77" data-quarto-postprocess="true">
<thead>
<tr>
<th id="T_56a77_level0_col0" class="col_heading level0 col0"
data-quarto-table-cell-role="th">Column Name</th>
<th id="T_56a77_level0_col1" class="col_heading level0 col1"
data-quarto-table-cell-role="th">Type</th>
<th id="T_56a77_level0_col2" class="col_heading level0 col2"
data-quarto-table-cell-role="th">Computed With</th>
</tr>
</thead>
<tbody>
<tr>
<td id="T_56a77_row0_col0" class="data row0 col0">pos</td>
<td id="T_56a77_row0_col1" class="data row0 col1">Required[Int]</td>
<td id="T_56a77_row0_col2" class="data row0 col2"></td>
</tr>
<tr>
<td id="T_56a77_row1_col0" class="data row1 col0">text</td>
<td id="T_56a77_row1_col1" class="data row1 col1">Required[String]</td>
<td id="T_56a77_row1_col2" class="data row1 col2"></td>
</tr>
<tr>
<td id="T_56a77_row2_col0" class="data row2 col0">title</td>
<td id="T_56a77_row2_col1" class="data row2 col1">String</td>
<td id="T_56a77_row2_col2" class="data row2 col2"></td>
</tr>
<tr>
<td id="T_56a77_row3_col0" class="data row3 col0">heading</td>
<td id="T_56a77_row3_col1" class="data row3 col1">Json</td>
<td id="T_56a77_row3_col2" class="data row3 col2"></td>
</tr>
<tr>
<td id="T_56a77_row4_col0" class="data row4 col0">sourceline</td>
<td id="T_56a77_row4_col1" class="data row4 col1">Int</td>
<td id="T_56a77_row4_col2" class="data row4 col2"></td>
</tr>
<tr>
<td id="T_56a77_row5_col0" class="data row5 col0">source_doc</td>
<td id="T_56a77_row5_col1" class="data row5 col1">Document</td>
<td id="T_56a77_row5_col2" class="data row5 col2"></td>
</tr>
</tbody>
</table>
`,`
<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr style="text-align: right;">
<th data-quarto-table-cell-role="th">source_doc_fileurl</th>
</tr>
</thead>
<tbody>
<tr>
<td style="vertical-align: middle;">https://raw.githubusercontent.com/pixeltable/pixeltable/main/docs/resources/rag-demo/Argus-Market-Digest-June-2024.pdf</td>
</tr>
</tbody>
</table>
`,`
<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr style="text-align: right;">
<th data-quarto-table-cell-role="th">text</th>
<th data-quarto-table-cell-role="th">heading</th>
</tr>
</thead>
<tbody>
<tr>
<td style="vertical-align: middle;">MARKET DIGEST</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">- 1 -</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">FRIDAY, JUNE 21, 2024</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">JUNE 20, DJIA: 39,134.76 UP 299.90</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">Independent Equity Research Since 1934 ARGUS</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">A R G U S R E S E A R C H C O M P</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">A N Y • 6 1 B R O</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">A D W A Y • N E W Y O R K , N. Y. 1 0 0 0 6 • ( 2 1 2 ) 4 2 5 - 7 5
0 0 LONDON SALES &amp; MARKETING OFFICE TEL 011-44-207-256-8383 /</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">FAX 011-44-207-256-8363</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">®</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">Good Morning.</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">This is the Market Digest for Friday, June 21, 2024, with analysis
of the financial markets and comments on Accenture plc.</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">IN THIS ISSUE: * Growth Stock: Accenture plc: Shares rally on AI
optimism (Jim Kelleher)</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">MARKET REVIEW:</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">Yogi Berra famously said "When you come to a fork in the road, take
it."</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">Stock investors did just that on Thursday, pushing the Dow Jones
Industrial Average higher by 0.77% but the Nasdaq Composite and S&amp;P
500 lower by 0.79% and 0.25%, respectively.</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">In a rare event, shares of Nvidia not only lost ground, but lost a
relatively meaningful amount (3.5%), proving nothing can go up
forever.</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">Still, the major indices are comfortably ahead for the year to date
— and the big non-AI mover for stocks is the future direction of
interest rates, which remains a concern for Wall Street and (for one day
at least) offset AI mania.</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">ACCENTURE PLC (NYSE: ACN, \$306.16) BUY</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">ACN: Shares rally on AI optimism</td>
<td style="vertical-align: middle;">None</td>
</tr>
</tbody>
</table>
`,`
<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr style="text-align: right;">
<th data-quarto-table-cell-role="th">text</th>
<th data-quarto-table-cell-role="th">heading</th>
</tr>
</thead>
<tbody>
<tr>
<td style="vertical-align: middle;">MARKET DIGEST</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">- 1 -</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">FRIDAY, JUNE 21, 2024</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">JUNE 20, DJIA: 39,134.76 UP 299.90</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">Independent Equity Research Since 1934 ARGUS</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">A R G U S R E S E A R C H C O M P</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">A N Y • 6 1 B R O</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">A D W A Y • N E W Y O R K , N. Y. 1 0 0 0 6 • ( 2 1 2 ) 4 2 5 - 7 5
0 0 LONDON SALES &amp; MARKETING OFFICE TEL 011-44-207-256-8383 /</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">FAX 011-44-207-256-8363</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">®</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">Good Morning.</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">This is the Market Digest for Friday, June 21, 2024, with analysis
of the financial markets and comments on Accenture plc.</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">IN THIS ISSUE: * Growth Stock: Accenture plc: Shares rally on AI
optimism (Jim Kelleher)</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">MARKET REVIEW:</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">Yogi Berra famously said "When you come to a fork in the road, take
it."</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">Stock investors did just that on Thursday, pushing the Dow Jones
Industrial Average higher by 0.77% but the Nasdaq Composite and S&amp;P
500 lower by 0.79% and 0.25%, respectively.</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">In a rare event, shares of Nvidia not only lost ground, but lost a
relatively meaningful amount (3.5%), proving nothing can go up
forever.</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">Still, the major indices are comfortably ahead for the year to date
— and the big non-AI mover for stocks is the future direction of
interest rates, which remains a concern for Wall Street and (for one day
at least) offset AI mania.</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">ACCENTURE PLC (NYSE: ACN, \$306.16) BUY</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">ACN: Shares rally on AI optimism</td>
<td style="vertical-align: middle;">None</td>
</tr>
</tbody>
</table>
`,`
<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr style="text-align: right;">
<th data-quarto-table-cell-role="th">text</th>
<th data-quarto-table-cell-role="th">heading</th>
</tr>
</thead>
<tbody>
<tr>
<td style="vertical-align: middle;">MARKET DIGEST</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">- 1 -</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">FRIDAY, JUNE 21, 2024</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">JUNE 20, DJIA: 39,134.76 UP 299.90</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">Independent Equity Research Since 1934 ARGUS</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">A R G U S R E S E A R C H C O M P</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">A N Y • 6 1 B R O</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">A D W A Y • N E W Y O R K , N. Y. 1 0 0 0 6 • ( 2 1 2 ) 4 2 5 - 7 5
0 0 LONDON SALES &amp; MARKETING OFFICE</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">TEL 011-44-207-256-8383 /</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">FAX 011-44-207-256-8363</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">®</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">Good Morning.</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">This is the Market Digest for Friday, June 21, 2024, with analysis
of the financial markets and comments on Accenture plc.</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">IN THIS ISSUE: * Growth Stock: Accenture plc: Shares rally on AI
optimism (Jim Kelleher)</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">MARKET REVIEW:</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">Yogi Berra famously said "When you come to a fork in the road, take
it."</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">Stock investors did just that on Thursday, pushing the Dow Jones
Industrial Average higher by 0.77% but the Nasdaq Composite and S&amp;P
500 lower by 0.79% and 0.25%, respectively.</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">In a rare event, shares of Nvidia not only lost ground, but lost a
relatively meaningful amount (3.5%), proving nothing can go up
forever.</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">Still, the major indices are comfortably ahead for the year to date
— and the big non-AI mover for stocks is the future direction of
interest rates, which remains a concern for Wall Street and (for one day
at least) offset AI mania.</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">ACCENTURE PLC (NYSE: ACN, \$306.16) BUY</td>
<td style="vertical-align: middle;">None</td>
</tr>
</tbody>
</table>
`,`
<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr style="text-align: right;">
<th data-quarto-table-cell-role="th">text</th>
<th data-quarto-table-cell-role="th">heading</th>
</tr>
</thead>
<tbody>
<tr>
<td style="vertical-align: middle;">MARKET DIGEST</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">- 1 -</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">FRIDAY, JUNE 21, 2024</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">JUNE 20, DJIA: 39,134.76 UP 299.90</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">Independent Equity Research Since 1934 ARGUS</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">A R G U S R E S E A R C H C O M P</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">A N Y • 6 1 B R O</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">A D W A Y • N E W Y O R K , N. Y. 1 0 0 0 6 • ( 2 1 2 ) 4 2 5 -</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">7 5 0 0 LONDON SALES &amp; MARKETING OFFICE TEL 011-44-207-256-8383
/</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">FAX 011-44-207-256-8363</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">®</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">Good Morning.</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">This is the Market Digest for Friday, June 21, 2024, with analysis
of th</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">e financial markets and comments on Accenture plc.</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">IN THIS ISSUE: * Growth Stock: Accenture plc: Shares rally on AI
optimis</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">m (Jim Kelleher)</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">MARKET REVIEW:</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">Yogi Berra famously said "When you come to a fork in the road, take
it."</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">Stock investors did just that on Thursday, pushing the Dow Jones
Industr</td>
<td style="vertical-align: middle;">None</td>
</tr>
<tr>
<td style="vertical-align: middle;">ial Average higher by 0.77% but the Nasdaq Composite and S&amp;P 500
lower b</td>
<td style="vertical-align: middle;">None</td>
</tr>
</tbody>
</table>
`,`<style type="text/css">
#T_c8070_row0_col0 {
  white-space: pre-wrap;
  text-align: left;
  font-weight: bold;
}
</style>
`,`
<table id="T_c8070" data-quarto-postprocess="true">
<tbody>
<tr>
<td id="T_c8070_row0_col0" class="data row0 col0">view
'rag_ops_demo.chunks' (of 'rag_ops_demo.docs')</td>
</tr>
</tbody>
</table>
`,`
<style type="text/css">
#T_bff08 th {
  text-align: left;
}
#T_bff08_row0_col0, #T_bff08_row0_col1, #T_bff08_row0_col2, #T_bff08_row1_col0, #T_bff08_row1_col1, #T_bff08_row1_col2, #T_bff08_row2_col0, #T_bff08_row2_col1, #T_bff08_row2_col2, #T_bff08_row3_col0, #T_bff08_row3_col1, #T_bff08_row3_col2, #T_bff08_row4_col0, #T_bff08_row4_col1, #T_bff08_row4_col2, #T_bff08_row5_col0, #T_bff08_row5_col1, #T_bff08_row5_col2, #T_bff08_row6_col0, #T_bff08_row6_col1, #T_bff08_row6_col2 {
  white-space: pre-wrap;
  text-align: left;
}
</style>
`,`
<table id="T_bff08" data-quarto-postprocess="true">
<thead>
<tr>
<th id="T_bff08_level0_col0" class="col_heading level0 col0"
data-quarto-table-cell-role="th">Column Name</th>
<th id="T_bff08_level0_col1" class="col_heading level0 col1"
data-quarto-table-cell-role="th">Type</th>
<th id="T_bff08_level0_col2" class="col_heading level0 col2"
data-quarto-table-cell-role="th">Computed With</th>
</tr>
</thead>
<tbody>
<tr>
<td id="T_bff08_row0_col0" class="data row0 col0">pos</td>
<td id="T_bff08_row0_col1" class="data row0 col1">Required[Int]</td>
<td id="T_bff08_row0_col2" class="data row0 col2"></td>
</tr>
<tr>
<td id="T_bff08_row1_col0" class="data row1 col0">text</td>
<td id="T_bff08_row1_col1" class="data row1 col1">Required[String]</td>
<td id="T_bff08_row1_col2" class="data row1 col2"></td>
</tr>
<tr>
<td id="T_bff08_row2_col0" class="data row2 col0">title</td>
<td id="T_bff08_row2_col1" class="data row2 col1">String</td>
<td id="T_bff08_row2_col2" class="data row2 col2"></td>
</tr>
<tr>
<td id="T_bff08_row3_col0" class="data row3 col0">heading</td>
<td id="T_bff08_row3_col1" class="data row3 col1">Json</td>
<td id="T_bff08_row3_col2" class="data row3 col2"></td>
</tr>
<tr>
<td id="T_bff08_row4_col0" class="data row4 col0">sourceline</td>
<td id="T_bff08_row4_col1" class="data row4 col1">Int</td>
<td id="T_bff08_row4_col2" class="data row4 col2"></td>
</tr>
<tr>
<td id="T_bff08_row5_col0" class="data row5 col0">minilm_embed</td>
<td id="T_bff08_row5_col1" class="data row5 col1">Required[Array[(384,),
float32]]</td>
<td id="T_bff08_row5_col2"
class="data row5 col2">sentence_transformer(text,
model_id='paraphrase-MiniLM-L6-v2')</td>
</tr>
<tr>
<td id="T_bff08_row6_col0" class="data row6 col0">source_doc</td>
<td id="T_bff08_row6_col1" class="data row6 col1">Document</td>
<td id="T_bff08_row6_col2" class="data row6 col2"></td>
</tr>
</tbody>
</table>
`,`
<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr style="text-align: right;">
<th data-quarto-table-cell-role="th">text</th>
<th data-quarto-table-cell-role="th">heading</th>
<th data-quarto-table-cell-role="th">minilm_embed</th>
</tr>
</thead>
<tbody>
<tr>
<td style="vertical-align: middle;">MARKET DIGEST</td>
<td style="vertical-align: middle;">None</td>
<td style="vertical-align: middle;">[-0.33 -0.824 -0.397 0.008 -0.325 -0.624 ... 0.406 -0.113 0.172
-0.475 0.669 -0.102]</td>
</tr>
<tr>
<td style="vertical-align: middle;">- 1 -</td>
<td style="vertical-align: middle;">None</td>
<td style="vertical-align: middle;">[-0.597 0.507 0.367 -0.109 -0.264 0.052 ... -0.089 0.237 0.35 0.153
0.837 -0.025]</td>
</tr>
<tr>
<td style="vertical-align: middle;">FRIDAY, JUNE 21, 2024</td>
<td style="vertical-align: middle;">None</td>
<td style="vertical-align: middle;">[ 0.016 -0.178 0.134 -0.284 0.019 0.419 ... -0.35 -0.102 0.181
-0.476 -0.243 -0.209]</td>
</tr>
<tr>
<td style="vertical-align: middle;">JUNE 20, DJIA: 39,134.76 UP 299.90</td>
<td style="vertical-align: middle;">None</td>
<td style="vertical-align: middle;">[ 0.32 -0.037 -0.18 0.118 -0.058 0.171 ... -0.274 0.051 -0.1 0.237
-0.367 -0.241]</td>
</tr>
<tr>
<td style="vertical-align: middle;">Independent Equity Research Since 1934 ARGUS</td>
<td style="vertical-align: middle;">None</td>
<td style="vertical-align: middle;">[-0.813 -0.261 -0.306 0.03 0.038 0.014 ... -0.481 -0.132 -0.07
-0.399 0.106 -0.271]</td>
</tr>
<tr>
<td style="vertical-align: middle;">A R G U S R E S E A R C H C O M P</td>
<td style="vertical-align: middle;">None</td>
<td style="vertical-align: middle;">[-0.107 0.194 -0.395 -0.058 -0.438 0.55 ... -0.499 -0.48 -0.315
-0.341 0.587 -0.008]</td>
</tr>
<tr>
<td style="vertical-align: middle;">A N Y • 6 1 B R O</td>
<td style="vertical-align: middle;">None</td>
<td style="vertical-align: middle;">[ 0.338 0.381 -0.174 -0.187 -0.655 0.058 ... -0.544 -0.366 -0.167
0.337 0.366 -0.179]</td>
</tr>
<tr>
<td style="vertical-align: middle;">A D W A Y • N E W Y O R K , N. Y. 1 0 0 0 6 • ( 2 1 2 ) 4 2 5 - 7 5
0 0 LONDON SALES &amp; MARKETING OFFICE TEL 011-44-207-256-8383 /</td>
<td style="vertical-align: middle;">None</td>
<td style="vertical-align: middle;">[-0.065 -0.214 -0.014 -0.384 -0.343 -0.139 ... -0.023 -0.036 -0.354
-0.129 0.064 0.19 ]</td>
</tr>
<tr>
<td style="vertical-align: middle;">FAX 011-44-207-256-8363</td>
<td style="vertical-align: middle;">None</td>
<td style="vertical-align: middle;">[-0.879 0.129 -0.125 -0.053 -0.06 -0.41 ... -0.193 0.273 0.723
-0.062 0.351 0.156]</td>
</tr>
<tr>
<td style="vertical-align: middle;">®</td>
<td style="vertical-align: middle;">None</td>
<td style="vertical-align: middle;">[-0.432 0.495 -0.327 -0.704 -0.235 -0.077 ... 0.222 -0.406 0.456
-0.064 0.441 0.266]</td>
</tr>
</tbody>
</table>
`,`<style type="text/css">
#T_878c7_row0_col0 {
  white-space: pre-wrap;
  text-align: left;
  font-weight: bold;
}
</style>
`,`
<table id="T_878c7" data-quarto-postprocess="true">
<tbody>
<tr>
<td id="T_878c7_row0_col0" class="data row0 col0">view
'rag_ops_demo.chunks' (of 'rag_ops_demo.docs')</td>
</tr>
</tbody>
</table>
`,`
<style type="text/css">
#T_88690 th {
  text-align: left;
}
#T_88690_row0_col0, #T_88690_row0_col1, #T_88690_row0_col2, #T_88690_row1_col0, #T_88690_row1_col1, #T_88690_row1_col2, #T_88690_row2_col0, #T_88690_row2_col1, #T_88690_row2_col2, #T_88690_row3_col0, #T_88690_row3_col1, #T_88690_row3_col2, #T_88690_row4_col0, #T_88690_row4_col1, #T_88690_row4_col2, #T_88690_row5_col0, #T_88690_row5_col1, #T_88690_row5_col2, #T_88690_row6_col0, #T_88690_row6_col1, #T_88690_row6_col2, #T_88690_row7_col0, #T_88690_row7_col1, #T_88690_row7_col2 {
  white-space: pre-wrap;
  text-align: left;
}
</style>
`,`
<table id="T_88690" data-quarto-postprocess="true">
<thead>
<tr>
<th id="T_88690_level0_col0" class="col_heading level0 col0"
data-quarto-table-cell-role="th">Column Name</th>
<th id="T_88690_level0_col1" class="col_heading level0 col1"
data-quarto-table-cell-role="th">Type</th>
<th id="T_88690_level0_col2" class="col_heading level0 col2"
data-quarto-table-cell-role="th">Computed With</th>
</tr>
</thead>
<tbody>
<tr>
<td id="T_88690_row0_col0" class="data row0 col0">pos</td>
<td id="T_88690_row0_col1" class="data row0 col1">Required[Int]</td>
<td id="T_88690_row0_col2" class="data row0 col2"></td>
</tr>
<tr>
<td id="T_88690_row1_col0" class="data row1 col0">text</td>
<td id="T_88690_row1_col1" class="data row1 col1">Required[String]</td>
<td id="T_88690_row1_col2" class="data row1 col2"></td>
</tr>
<tr>
<td id="T_88690_row2_col0" class="data row2 col0">title</td>
<td id="T_88690_row2_col1" class="data row2 col1">String</td>
<td id="T_88690_row2_col2" class="data row2 col2"></td>
</tr>
<tr>
<td id="T_88690_row3_col0" class="data row3 col0">heading</td>
<td id="T_88690_row3_col1" class="data row3 col1">Json</td>
<td id="T_88690_row3_col2" class="data row3 col2"></td>
</tr>
<tr>
<td id="T_88690_row4_col0" class="data row4 col0">sourceline</td>
<td id="T_88690_row4_col1" class="data row4 col1">Int</td>
<td id="T_88690_row4_col2" class="data row4 col2"></td>
</tr>
<tr>
<td id="T_88690_row5_col0" class="data row5 col0">minilm_embed</td>
<td id="T_88690_row5_col1" class="data row5 col1">Required[Array[(384,),
float32]]</td>
<td id="T_88690_row5_col2"
class="data row5 col2">sentence_transformer(text,
model_id='paraphrase-MiniLM-L6-v2')</td>
</tr>
<tr>
<td id="T_88690_row6_col0" class="data row6 col0">clip_embed</td>
<td id="T_88690_row6_col1" class="data row6 col1">Required[Array[(512,),
float32]]</td>
<td id="T_88690_row6_col2" class="data row6 col2">clip(text,
model_id='openai/clip-vit-base-patch32')</td>
</tr>
<tr>
<td id="T_88690_row7_col0" class="data row7 col0">source_doc</td>
<td id="T_88690_row7_col1" class="data row7 col1">Document</td>
<td id="T_88690_row7_col2" class="data row7 col2"></td>
</tr>
</tbody>
</table>
`,`
<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr style="text-align: right;">
<th data-quarto-table-cell-role="th">text</th>
<th data-quarto-table-cell-role="th">heading</th>
<th data-quarto-table-cell-role="th">clip_embed</th>
</tr>
</thead>
<tbody>
<tr>
<td style="vertical-align: middle;">MARKET DIGEST</td>
<td style="vertical-align: middle;">None</td>
<td style="vertical-align: middle;">[ 0.276 0.039 -0.095 -0.055 -0.193 -0.061 ... -0.298 -0.007 0.181
0.417 0.091 -0.072]</td>
</tr>
<tr>
<td style="vertical-align: middle;">- 1 -</td>
<td style="vertical-align: middle;">None</td>
<td style="vertical-align: middle;">[ 0.031 0.106 0.159 0.429 -0.145 -0.123 ... -0.233 0.124 0.031
-0.841 0.138 0.045]</td>
</tr>
<tr>
<td style="vertical-align: middle;">FRIDAY, JUNE 21, 2024</td>
<td style="vertical-align: middle;">None</td>
<td style="vertical-align: middle;">[-0.198 -0.326 -0.505 -0.247 0.219 -0.505 ... -0.099 -0.195 0.694
0.123 -0.031 -0.302]</td>
</tr>
<tr>
<td style="vertical-align: middle;">JUNE 20, DJIA: 39,134.76 UP 299.90</td>
<td style="vertical-align: middle;">None</td>
<td style="vertical-align: middle;">[-0.204 -0.214 0.03 0.103 -0.246 -0.155 ... 0.071 0.017 0.416 0.552
0.077 0.118]</td>
</tr>
<tr>
<td style="vertical-align: middle;">Independent Equity Research Since 1934 ARGUS</td>
<td style="vertical-align: middle;">None</td>
<td style="vertical-align: middle;">[-0.119 -0.158 -0.202 -0.239 -0.359 0.17 ... -0.257 -0.053 0.035
0.134 -0.093 0.114]</td>
</tr>
<tr>
<td style="vertical-align: middle;">A R G U S R E S E A R C H C O M P</td>
<td style="vertical-align: middle;">None</td>
<td style="vertical-align: middle;">[ 0.052 0.103 -0.212 0.007 0.396 0.075 ... -0.07 -0.023 -0.071
-0.769 -0.233 0.182]</td>
</tr>
<tr>
<td style="vertical-align: middle;">A N Y • 6 1 B R O</td>
<td style="vertical-align: middle;">None</td>
<td style="vertical-align: middle;">[ 0.085 0.043 0.238 0.021 0.012 -0.089 ... -0.239 -0.07 -0.029
-0.563 -0.007 0.216]</td>
</tr>
<tr>
<td style="vertical-align: middle;">A D W A Y • N E W Y O R K , N. Y. 1 0 0 0 6 • ( 2 1 2 ) 4 2 5 - 7 5
0 0 LONDON SALES &amp; MARKETING OFFICE TEL 011-44-207-256-8383 /</td>
<td style="vertical-align: middle;">None</td>
<td style="vertical-align: middle;">[-0.246 0.184 0.357 0.078 0.376 0.135 ... -0.189 -0.169 0.369 -0.353
0.012 -0.123]</td>
</tr>
<tr>
<td style="vertical-align: middle;">FAX 011-44-207-256-8363</td>
<td style="vertical-align: middle;">None</td>
<td style="vertical-align: middle;">[-0.109 0.136 -0.139 -0.098 0.185 -0.032 ... -0.099 -0.093 0.126
0.112 -0.349 0.058]</td>
</tr>
<tr>
<td style="vertical-align: middle;">®</td>
<td style="vertical-align: middle;">None</td>
<td style="vertical-align: middle;">[ 0.023 0.237 0.13 0.275 -0.013 -0.158 ... -0.102 0.027 -0.081
-1.035 0.181 0.205]</td>
</tr>
</tbody>
</table>
`];

In this tutorial, we’ll explore Pixeltable’s flexible handling of RAG
operations on unstructured text. In a traditional AI workflow, such
operations might be implemented as a Python script that runs on a
periodic schedule or in response to certain events. In Pixeltable, as
with everything else, they are implemented as persistent table
operations that update incrementally as new data becomes available. In
our tutorial workflow, we’ll chunk PDF documents in various ways with a
document splitter, then apply several kinds of embeddings to the chunks.

## Set Up the Table Structure

We start by installing the necessary dependencies, creating a Pixeltable
directory `rag_ops_demo` (if it doesn’t already exist), and setting up
the table structure for our new workflow.


```python
%pip install -qU pixeltable sentence-transformers spacy tiktoken
!python -m spacy download en_core_web_sm -q
```


```python
import pixeltable as pxt

# Ensure a clean slate for the demo
pxt.drop_dir('rag_ops_demo', force=True)
# Create the Pixeltable workspace
pxt.create_dir('rag_ops_demo')
```

## Creating Tables and Views

Now we’ll create the tables that represent our workflow, starting with a
table to hold references to source documents. The table contains a
single column `source_doc` whose elements have type `pxt.Document`,
representing a general document instance. In this tutorial, we’ll be
working with PDF documents, but Pixeltable supports a range of other
document types, such as Markdown and HTML.


```python
docs = pxt.create_table(
    'rag_ops_demo.docs',
    {'source_doc': pxt.Document}
)
```

<pre style={{ 'margin': '-20px 20px 0px 20px', 'padding': '0px', 'background-color': 'transparent', 'color': 'black' }}>
Created&nbsp;table&nbsp;&#x27;docs&#x27;.
</pre>

If we take a peek at the `docs` table, we see its very simple structure.


```python
docs
```

<div style={{ 'margin': '0px 20px 0px 20px' }} dangerouslySetInnerHTML={{ __html: quartoRawHtml[0] }} />

<div style={{ 'margin': '0px 20px 0px 20px' }} dangerouslySetInnerHTML={{ __html: quartoRawHtml[1] }} />

<div style={{ 'margin': '0px 20px 0px 20px' }} dangerouslySetInnerHTML={{ __html: quartoRawHtml[2] }} />

<div style={{ 'margin': '0px 20px 0px 20px' }} dangerouslySetInnerHTML={{ __html: quartoRawHtml[3] }} />

Next we create a view to represent chunks of our PDF documents. A
Pixeltable view is a virtual table, which is dynamically derived from a
source table by applying a transformation and/or selecting a subset of
data. In this case, our view represents a one-to-many transformation
from source documents into individual sentences. This is achieved using
Pixeltable’s built-in `document_splitter` class.

Note that the `docs` table is currently empty, so creating this view
doesn’t actually *do* anything yet: it simply defines an operation that
we want Pixeltable to execute when it sees new data.


```python
from pixeltable.functions.document import document_splitter

sentences = pxt.create_view(
    'rag_ops_demo.sentences',  # Name of the view
    docs,  # Table from which the view is derived
    iterator=document_splitter(
        docs.source_doc,
        separators='sentence',  # Chunk docs into sentences
        metadata='title,heading,sourceline'
    )
)
```

Let’s take a peek at the new `sentences` view.


```python
sentences
```

<div style={{ 'margin': '0px 20px 0px 20px' }} dangerouslySetInnerHTML={{ __html: quartoRawHtml[4] }} />

<div style={{ 'margin': '0px 20px 0px 20px' }} dangerouslySetInnerHTML={{ __html: quartoRawHtml[5] }} />

<div style={{ 'margin': '0px 20px 0px 20px' }} dangerouslySetInnerHTML={{ __html: quartoRawHtml[6] }} />

<div style={{ 'margin': '0px 20px 0px 20px' }} dangerouslySetInnerHTML={{ __html: quartoRawHtml[7] }} />

We see that `sentences` inherits the `source_doc` column from `docs`,
together with some new fields:

-   `pos`: The position in the source document where the sentence
    appears.
-   `text`: The text of the sentence.
-   `title`, `heading`, and `sourceline`: The metadata we requested when
    we set up the view.

## Data Ingestion

Ok, now it’s time to insert some data into our workflow. A document in
Pixeltable is just a URL; the following command inserts a single row
into the `docs` table with the `source_doc` field set to the specified
URL:


```python
docs.insert([{'source_doc': 'https://raw.githubusercontent.com/pixeltable/pixeltable/main/docs/resources/rag-demo/Argus-Market-Digest-June-2024.pdf'}])
```

<pre style={{ 'margin': '-20px 20px 0px 20px', 'padding': '0px', 'background-color': 'transparent', 'color': 'black' }}>
Inserting&nbsp;rows&nbsp;into&nbsp;\`docs\`:&nbsp;1&nbsp;rows&nbsp;\[00:00,&nbsp;292.76&nbsp;rows/s\]
Inserting&nbsp;rows&nbsp;into&nbsp;\`sentences\`:&nbsp;217&nbsp;rows&nbsp;\[00:00,&nbsp;42910.00&nbsp;rows/s\]
Inserted&nbsp;218&nbsp;rows&nbsp;with&nbsp;0&nbsp;errors.
218&nbsp;rows&nbsp;inserted,&nbsp;2&nbsp;values&nbsp;computed.
</pre>

We can see that two things happened. First, a single row was inserted
into `docs`, containing the URL representing our source PDF. Then, the
view `sentences` was incrementally updated by applying the
`document_splitter` according to the definition of the view. This
illustrates an important principle in Pixeltable: by default, anytime
Pixeltable sees new data, the update is incrementally propagated to any
downstream views or computed columns.

We can see the effect of the insertion with the `select` command.
There’s a single row in `docs`:


```python
docs.select(docs.source_doc.fileurl).show()
```

<div style={{ 'margin': '0px 20px 0px 20px' }} dangerouslySetInnerHTML={{ __html: quartoRawHtml[8] }} />

And here are the first 20 rows in `sentences`. The content of the PDF is
broken into individual sentences, as expected.


```python
sentences.select(sentences.text, sentences.heading).show(20)
```

<div style={{ 'margin': '0px 20px 0px 20px' }} dangerouslySetInnerHTML={{ __html: quartoRawHtml[9] }} />

## Experimenting with Chunking

Of course, chunking into sentences isn’t the only way to split a
document. Perhaps we want to experiment with different chunking
methodologies, in order to see which one performs best in a particular
application. Pixeltable makes it easy to do this, by creating several
views of the same source table. Here are a few examples. Notice that as
each new view is created, it is initially populated from the data
already in `docs`.


```python
chunks = pxt.create_view(
    'rag_ops_demo.chunks', docs,
    iterator=document_splitter(
        docs.source_doc,
        separators='sentence,token_limit',
        limit=2048,
        overlap=0,
        metadata='title,heading,sourceline'
    )
)
```

<pre style={{ 'margin': '-20px 20px 0px 20px', 'padding': '0px', 'background-color': 'transparent', 'color': 'black' }}>
Inserting&nbsp;rows&nbsp;into&nbsp;\`chunks\`:&nbsp;217&nbsp;rows&nbsp;\[00:00,&nbsp;47827.85&nbsp;rows/s\]
</pre>


```python
short_chunks = pxt.create_view(
    'rag_ops_demo.short_chunks', docs,
    iterator=document_splitter(
        docs.source_doc,
        separators='sentence,token_limit',
        limit=72,
        overlap=0,
        metadata='title,heading,sourceline'
    )
)
```

<pre style={{ 'margin': '-20px 20px 0px 20px', 'padding': '0px', 'background-color': 'transparent', 'color': 'black' }}>
Inserting&nbsp;rows&nbsp;into&nbsp;\`short_chunks\`:&nbsp;219&nbsp;rows&nbsp;\[00:00,&nbsp;49104.70&nbsp;rows/s\]
</pre>


```python
short_char_chunks = pxt.create_view(
    'rag_ops_demo.short_char_chunks', docs,
    iterator=document_splitter(
        docs.source_doc,
        separators='sentence,char_limit',
        limit=72,
        overlap=0,
        metadata='title,heading,sourceline'
    )
)
```

<pre style={{ 'margin': '-20px 20px 0px 20px', 'padding': '0px', 'background-color': 'transparent', 'color': 'black' }}>
Inserting&nbsp;rows&nbsp;into&nbsp;\`short_char_chunks\`:&nbsp;459&nbsp;rows&nbsp;\[00:00,&nbsp;63241.10&nbsp;rows/s\]
</pre>


```python
chunks.select(chunks.text, chunks.heading).show(20)
```

<div style={{ 'margin': '0px 20px 0px 20px' }} dangerouslySetInnerHTML={{ __html: quartoRawHtml[10] }} />


```python
short_chunks.select(short_chunks.text, short_chunks.heading).show(20)
```

<div style={{ 'margin': '0px 20px 0px 20px' }} dangerouslySetInnerHTML={{ __html: quartoRawHtml[11] }} />


```python
short_char_chunks.select(short_char_chunks.text, short_char_chunks.heading).show(20)
```

<div style={{ 'margin': '0px 20px 0px 20px' }} dangerouslySetInnerHTML={{ __html: quartoRawHtml[12] }} />

Now let’s add a few more documents to our workflow. Notice how all of
the downstream views are updated incrementally, processing just the new
documents as they are inserted.


```python
urls = [
    'https://raw.githubusercontent.com/pixeltable/pixeltable/main/docs/resources/rag-demo/Argus-Market-Watch-June-2024.pdf',
    'https://raw.githubusercontent.com/pixeltable/pixeltable/main/docs/resources/rag-demo/Company-Research-Alphabet.pdf',
    'https://raw.githubusercontent.com/pixeltable/pixeltable/main/docs/resources/rag-demo/Zacks-Nvidia-Report.pdf'
]
docs.insert({'source_doc': url} for url in urls)
```

<pre style={{ 'margin': '-20px 20px 0px 20px', 'padding': '0px', 'background-color': 'transparent', 'color': 'black' }}>
Inserting&nbsp;rows&nbsp;into&nbsp;\`docs\`:&nbsp;3&nbsp;rows&nbsp;\[00:00,&nbsp;1969.77&nbsp;rows/s\]
Inserting&nbsp;rows&nbsp;into&nbsp;\`chunks\`:&nbsp;742&nbsp;rows&nbsp;\[00:00,&nbsp;61926.41&nbsp;rows/s\]
Inserting&nbsp;rows&nbsp;into&nbsp;\`short_chunks\`:&nbsp;747&nbsp;rows&nbsp;\[00:00,&nbsp;67743.68&nbsp;rows/s\]
Inserting&nbsp;rows&nbsp;into&nbsp;\`sentences\`:&nbsp;742&nbsp;rows&nbsp;\[00:00,&nbsp;67949.90&nbsp;rows/s\]
Inserting&nbsp;rows&nbsp;into&nbsp;\`short_char_chunks\`:&nbsp;1165&nbsp;rows&nbsp;\[00:00,&nbsp;3603.41&nbsp;rows/s\]
Inserted&nbsp;3399&nbsp;rows&nbsp;with&nbsp;0&nbsp;errors.
3399&nbsp;rows&nbsp;inserted,&nbsp;6&nbsp;values&nbsp;computed.
</pre>

## Further Experiments

This is a good time to mention another important guiding principle of
Pixeltable. The preceding examples all used the built-in
`document_splitter` class with various configurations. That’s probably
fine as a first cut or to prototype an application quickly, and it might
be sufficient for some applications. But other applications might want
to do more sophisticated kinds of chunking, implementing their own
specialized logic or leveraging third-party tools. Pixeltable imposes no
constraints on the AI or RAG operations a workflow uses: the iterator
interface is highly general, and it’s easy to implement new operations
or adapt existing code or third-party tools into the Pixeltable
workflow.

## Computing Embeddings

Next, let’s look at how embedding indices can be added seamlessly to
existing Pixeltable workflows. To compute our embeddings, we’ll use the
Huggingface `sentence_transformer` package, running it over the `chunks`
view that broke our documents up into sentence-based chunks. Pixeltable
has a built-in `sentence_transformer` adapter, and all we have to do is
add a new column that leverages it. Pixeltable takes care of the rest,
applying the new column to all existing data in the view.


```python
from pixeltable.functions.huggingface import sentence_transformer

chunks.add_computed_column(minilm_embed=sentence_transformer(
    chunks.text,
    model_id='paraphrase-MiniLM-L6-v2'
))
```

<pre style={{ 'margin': '-20px 20px 0px 20px', 'padding': '0px', 'background-color': 'transparent', 'color': 'black' }}>
Added&nbsp;959&nbsp;column&nbsp;values&nbsp;with&nbsp;0&nbsp;errors.
959&nbsp;rows&nbsp;updated,&nbsp;959&nbsp;values&nbsp;computed.
</pre>

The new column is a *computed column*: it is defined as a function on
top of existing data and updated incrementally as new data are added to
the workflow. Let’s have a look at how the new column affected the
`chunks` view.


```python
chunks
```

<div style={{ 'margin': '0px 20px 0px 20px' }} dangerouslySetInnerHTML={{ __html: quartoRawHtml[13] }} />

<div style={{ 'margin': '0px 20px 0px 20px' }} dangerouslySetInnerHTML={{ __html: quartoRawHtml[14] }} />

<div style={{ 'margin': '0px 20px 0px 20px' }} dangerouslySetInnerHTML={{ __html: quartoRawHtml[15] }} />

<div style={{ 'margin': '0px 20px 0px 20px' }} dangerouslySetInnerHTML={{ __html: quartoRawHtml[16] }} />


```python
chunks.select(chunks.text, chunks.heading, chunks.minilm_embed).head()
```

<div style={{ 'margin': '0px 20px 0px 20px' }} dangerouslySetInnerHTML={{ __html: quartoRawHtml[17] }} />

Similarly, we might want to add a CLIP embedding to our workflow; once
again, it’s just another computed column:


```python
from pixeltable.functions.huggingface import clip

chunks.add_computed_column(clip_embed=clip(
    chunks.text, model_id='openai/clip-vit-base-patch32'
))
```

<pre style={{ 'margin': '-20px 20px 0px 20px', 'padding': '0px', 'background-color': 'transparent', 'color': 'black' }}>
Added&nbsp;959&nbsp;column&nbsp;values&nbsp;with&nbsp;0&nbsp;errors.
959&nbsp;rows&nbsp;updated,&nbsp;959&nbsp;values&nbsp;computed.
</pre>


```python
chunks
```

<div style={{ 'margin': '0px 20px 0px 20px' }} dangerouslySetInnerHTML={{ __html: quartoRawHtml[18] }} />

<div style={{ 'margin': '0px 20px 0px 20px' }} dangerouslySetInnerHTML={{ __html: quartoRawHtml[19] }} />

<div style={{ 'margin': '0px 20px 0px 20px' }} dangerouslySetInnerHTML={{ __html: quartoRawHtml[20] }} />

<div style={{ 'margin': '0px 20px 0px 20px' }} dangerouslySetInnerHTML={{ __html: quartoRawHtml[21] }} />


```python
chunks.select(chunks.text, chunks.heading, chunks.clip_embed).head()
```

<div style={{ 'margin': '0px 20px 0px 20px' }} dangerouslySetInnerHTML={{ __html: quartoRawHtml[22] }} />
